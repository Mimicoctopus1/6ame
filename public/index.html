<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>OJVJPJ Game: Text</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<ul id="messages"></ul>
    
    <!--Right-Click Menu-->
    <div class="rcmenu" 
        style="display: none;"> 
        <menu> 
            <li><a onclick = "">Element-1</a></li> 
            <li><a onclick = "">Element-2</a></li> 
            <li><a onclick = "">Element-3</a></li> 
            <li><a onclick = "">Element-4</a></li> 
            <li><a onclick = "">Element-5</a></li> 
            <li><a onclick = "">Element-6</a></li> 
            <li><a onclick = "">Element-7</a></li> 
        </menu> 
    </div>
    
    
    
    
    
		<form id="form" action="">
			<input
				type="text"
				id="input"
				autocomplete="off"
				placeholder="Type a message here!
        Feel free to use HTML to style!"
			/>
			<input type="submit" value="SEND!" />
		</form>
		<script
			src="https://cdn.socket.io/4.6.0/socket.io.min.js"
			integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+"
			crossorigin="anonymous"
		></script>
		<script>
      var game = {
        "mode": "flat"
      };


      



			const socket = io();

			const messages = document.querySelector("#messages");
			const form = document.querySelector("#form");
			const input = document.querySelector("#input");
      const rcmenu = document.querySelectorAll(".rcmenu")[0];
      
			form.addEventListener("submit", function(e) {
			  e.preventDefault();
			  if(input.value != "") {
			    socket.emit("chat message", input.value);
			    input.value = "";
			  } else {
			    socket.emit("chat message", "üëç Like!");
			  }
			});

			socket.on("chat message", function(msg) {
			  var item = document.createElement("li");
			  item.innerHTML = msg;
			  messages.appendChild(item);
			});
      
      /*Edit the right click menu*/
			var handlecontextmenu = function(e) {
			  /*Stop the right click menu from working the way it usually does.*/
			  e.preventDefault();
        
        menu.style.display = 'block'; 
                menu.style.left = e.pageX + "px";
                menu.style.top = e.pageY + "px";
			};

			document.addEventListener("contextmenu", handlecontextmenu);
		</script>
	</body>
</html>
