<!DOCTYPE html>
<html>
  <head>
    <meta charset = "utf-8">
    <title>OJVJPJ Game: Text</title>
    <link rel = "stylesheet" href = "style.css">
  </head>
  <body>
    <ul id = "messages"></ul>
    <form id = "form" action = "">
      <input type = "text" id = "input" autocomplete = "off" placeholder = "Type a message here!
        Feel free to use HTML to style!">
      <input type = "submit" value = "SEND!">
    </form>
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js" integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+" crossorigin="anonymous"></script>
    <script>
      const socket = io();
      
      const messages = document.querySelector("#messages");
      const form = document.querySelector("#form");
      const input = document.querySelector("#input");
      
      form.addEventListener("submit", function(e) {
        e.preventDefault();
        if(input.value) {
          socket.emit("chat message", input.value);
          input.value = "";
        } else {
          socket.emit("chat messaage", "üëç Like!");
        }
      });
      
      socket.on("chat message", function(msg) {
        var item = document.createElement("li");
        item.innerHTML = msg;
        messages.appendChild(item);
      })
    </script>
  </body>
</html>